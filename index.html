<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dusk Server - Vintage Story</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/main.styles.css">
</head>
<body>
    <!-- Header Section -->
    <div class="header-section">
        <h1><i class="fas fa-chess-rook" style="margin-right: 15px;"></i>Dusk Server</h1>
        <p style="font-size: 1.2rem; margin-bottom: 30px;">Vintage Story Community Server</p>
        
        <div class="server-info-card">
            <div class="info-item">
                <span class="info-label"><i class="fas fa-network-wired" style="margin-right: 8px;"></i>Server IP</span>
                <span class="info-value" id="ipDisplay">198.18.1.1</span>
            </div>
            <div class="info-item">
                <span class="info-label"><i class="fas fa-lock" style="margin-right: 8px;"></i>Password</span>
                <span class="info-value" id="passwordDisplay">password</span>
            </div>
            <!--<div class="info-item">
                <span class="info-label"><i class="fas fa-signal" style="margin-right: 8px;"></i>Status</span>
                <span class="status-indicator" id="statusIndicator">
                    <span class="status-dot"></span>
                    <span class="status-text">Checking...</span>
                </span>
            </div>-->
        </div>
    </div>

    <!-- Content Sections -->
    <div class="content-section">
        <div class="mods-container">
            <!-- Tab Navigation -->
            <div class="tab-nav">
                <button class="tab-button active" data-tab="join"><i class="fas fa-sign-in-alt" style="margin-right: 8px;"></i>How to Join</button>
                <button class="tab-button" data-tab="mods"><i class="fas fa-puzzle-piece" style="margin-right: 8px;"></i>Server Mods</button>
                <button class="tab-button" data-tab="helpful"><i class="fas fa-lightbulb" style="margin-right: 8px;"></i>Helpful Info</button>
            </div>

            <!-- How to Join Tab -->
            <div id="join" class="tab-content active">
                <!-- Instructions -->
                <div class="instructions-box">
                    <ol class="instructions-list">
                        <li>
                            <span class="instruction-title">Open Vintage Story</span>
                            <span class="instruction-text">Launch the game and select the <strong>Multiplayer</strong> option from the main menu.</span>
                        </li>
                        <li>
                            <span class="instruction-title">Add New Server</span>
                            <span class="instruction-text">Click the <strong>Add New Server</strong> button in the bottom right-hand corner.</span>
                        </li>
                        <li>
                            <span class="instruction-title">Enter Server Details</span>
                            <span class="instruction-text">Fill out the following information:
                                <div class="detail-list">
                                    <div class="detail-item"><strong>Server Name:</strong> Dusk Server (or any name you prefer)</div>
                                    <div class="detail-item"><strong>Server IP:</strong> <span id="ipInstructions">198.18.1.1</span></div>
                                    <div class="detail-item"><strong>Password:</strong> <span id="passwordInstructions">password</span></div>
                                </div>
                            </span>
                        </li>
                        <li>
                            <span class="instruction-title">Create Server Entry</span>
                            <span class="instruction-text">Click the <strong>Create</strong> button to add the server.</span>
                        </li>
                        <li>
                            <span class="instruction-title">Connect</span>
                            <span class="instruction-text">Select the Dusk Server from your server list and click <strong>Connect</strong> to join!</span>
                        </li>
                    </ol>
                </div>
            </div>

            <!-- Server Mods Tab -->
            <div id="mods" class="tab-content">
                <!-- Search Box -->
                <div class="search-box">
                    <input type="text" id="searchInput" class="form-control" placeholder="Search mods...">
                </div>

                <!-- Mods List -->
                <div id="modsList"></div>

                <!-- No Results Message -->
                <div id="noResults" class="no-results" style="display: none;">
                    No mods found matching your search.
                </div>
            </div>

            <!-- Helpful Information Tab -->
            <div id="helpful" class="tab-content">
                <div class="helpful-info-box">
                    <div class="info-section">
                        <h3><i class="fas fa-handshake" style="margin-right: 10px;"></i>Hand to Hand Trading</h3>
                        <p>Hold an item in your hand and press <strong>R</strong> to give it to someone nearby.</p>
                    </div>
                    <div class="info-section">
                        <h3><i class="fas fa-microphone" style="margin-right: 10px;"></i>Proximity Chat</h3>
                        <p>Press <strong>N</strong> to mute/unmute, <strong>;</strong> to open the proximity chat menu, and <strong>Shift+Tab</strong> to change voice distance.</p>
                    </div>
                    <div class="info-section">
                        <h3><i class="fas fa-fire" style="margin-right: 10px;"></i>Real Smoke</h3>
                        <p>Too much smoke from fires and torches can cause smoke inhalation damage. Make sure to build chimneys to ventilate your structures!</p>
                    </div>
                    <div class="info-section">
                        <h3><i class="fas fa-skull" style="margin-right: 10px;"></i>Player Corpse</h3>
                        <p>When you die, you drop a corpse that you can retrieve to recover your items.</p>
                    </div>
                    <div class="info-section">
                        <h3><i class="fas fa-universal-access" style="margin-right: 10px;"></i>Accessibility Hub</h3>
                        <p>Press <strong>F8</strong> to open accessibility settings for camera movement, color correction, brightness, sound effects, step assist, text alteration, and weather effects.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>&copy; 2026 Dusk Server. All rights probably reserved.</p>
        <a href="https://www.vintagestory.at" target="_blank" class="footer-link footer-button">Visit Vintage Story</a>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Server Configuration Constants
        const SERVER_IP = "vs.unewt.com:42420";
        const SERVER_PASSWORD = "dusk";

        // Mod data extracted from modList.csv
        const modsData = [
            { name: "A Culinary Artillery", link: "https://mods.vintagestory.at/aculinaryartillery", notes: "---" },
            { name: "Abundant Stone Paths", link: "https://mods.vintagestory.at/abundantstonepaths", notes: "---" },
            { name: "Accessibility Tweaks", link: "https://mods.vintagestory.at/accessibilitytweaks", notes: "---" },
            { name: "Adventurer's Walking Stick", link: "https://mods.vintagestory.at/show/mod/34545", notes: "---" },
            { name: "Air Boat", link: "https://mods.vintagestory.at/show/mod/34819", notes: "---" },
            { name: "Attribute Rendering Library", link: "https://mods.vintagestory.at/attributerenderinglibrary", notes: "---" },
            { name: "Better Loot", link: "https://mods.vintagestory.at/betterloot", notes: "Newt" },
            { name: "Billposting", link: "https://mods.vintagestory.at/billposting", notes: "---" },
            { name: "Blackguard Additions", link: "https://mods.vintagestory.at/show/mod/22373", notes: "Newt" },
            { name: "Blackguard Resurrected", link: "https://mods.vintagestory.at/show/mod/20540", notes: "Newt" },
            { name: "Blacksmith Name", link: "https://mods.vintagestory.at/show/mod/1910", notes: "---" },
            { name: "Boat Tags", link: "https://mods.vintagestory.at/boattags", notes: "---" },
            { name: "Braziers", link: "https://mods.vintagestory.at/braziers", notes: "---" },
            { name: "Butterfly Displays", link: "https://mods.vintagestory.at/butterflydisplays", notes: "---" },
            { name: "CAN Claims", link: "https://mods.vintagestory.at/canclaims", notes: "---" },
            { name: "CAN Crops", link: "https://mods.vintagestory.at/cancrops", notes: "---" },
            { name: "CAN Mailboxes", link: "https://mods.vintagestory.at/canmailbox", notes: "---" },
            { name: "Canoe Mod 1.21", link: "https://mods.vintagestory.at/canoemode", notes: "---" },
            { name: "Canoe Mod: Circuit's Patch", link: "https://mods.vintagestory.at/canoemodcircuitspatch", notes: "---" },
            { name: "Carry On", link: "https://mods.vintagestory.at/carryon", notes: "---" },
            { name: "Cartwright's Caravan", link: "https://mods.vintagestory.at/cartwrightscaravan", notes: "---" },
            { name: "Charlotte's Clothes", link: "https://mods.vintagestory.at/charlottesclothes", notes: "---" },
            { name: "Chiseled Block Retention", link: "https://mods.vintagestory.at/cbr", notes: "---" },
            { name: "Clothier's Heirlooms", link: "https://mods.vintagestory.at/clothiersheirlooms", notes: "---" },
            { name: "Coinage", link: "https://mods.vintagestory.at/coinage", notes: "---" },
            { name: "Colorful Vanilla Clothing", link: "https://mods.vintagestory.at/colorfulclothing", notes: "---" },
            { name: "Custom Flowerpots", link: "https://mods.vintagestory.at/customflowerpots", notes: "---" },
            { name: "Debark", link: "https://mods.vintagestory.at/show/mod/21434", notes: "---" },
            { name: "Door Variants", link: "https://mods.vintagestory.at/doorvariants", notes: "---" },
            { name: "Dressed to Kill: REDUX", link: "https://mods.vintagestory.at/dressedtokillredux", notes: "---" },
            { name: "Dressmakers", link: "https://mods.vintagestory.at/dressmakers", notes: "---" },
            { name: "Envelopes", link: "https://mods.vintagestory.at/envelopes", notes: "---" },
            { name: "Expanded Foods", link: "https://mods.vintagestory.at/expandedfoods", notes: "---" },
            { name: "Extra Info", link: "https://mods.vintagestory.at/extrainfo", notes: "---" },
            { name: "Fauna of the Stone Age: Chelonioidea", link: "https://mods.vintagestory.at/chelonioidea", notes: "---" },
            { name: "Fauna of the Stone Age: Iniidae Plus", link: "https://mods.vintagestory.at/iniidae", notes: "---" },
            { name: "Fauna of the Stone Age: Sirenia", link: "https://mods.vintagestory.at/sirenia", notes: "Newt" },
            { name: "Fauna of the Stone Age: Spheniscidae", link: "https://mods.vintagestory.at/spheniscidae", notes: "---" },
            { name: "Female Seraph", link: "https://mods.vintagestory.at/femaleseraph", notes: "---" },
            { name: "Firewood and Boards from Debarked Logs", link: "https://mods.vintagestory.at/firewoodandboardsfromdebarkedlogs", notes: "---" },
            { name: "Fishing", link: "https://mods.vintagestory.at/fishing", notes: "---" },
            { name: "Food Shelves", link: "https://mods.vintagestory.at/foodshelves", notes: "---" },
            { name: "Footprints", link: "https://mods.vintagestory.at/footprints", notes: "---" },
            { name: "Fueled Wearable Lights", link: "https://mods.vintagestory.at/fueledwearablelights", notes: "---" },
            { name: "FWD Deco", link: "https://mods.vintagestory.at/winterswallpaper", notes: "---" },
            { name: "Gildening Tools", link: "https://mods.vintagestory.at/gildeningtools", notes: "---" },
            { name: "Gimme One Seed Plz (?)", link: "https://mods.vintagestory.at/gimmeoneseedplz", notes: "---" },
            { name: "Glass Doors", link: "https://mods.vintagestory.at/glassdoors", notes: "---" },
            { name: "Glass Trapdoors", link: "https://mods.vintagestory.at/glasstrapdoors", notes: "---" },
            { name: "GlooMe Classes", link: "https://mods.vintagestory.at/gloomeclasses", notes: "---" },
            { name: "Hanging Oil Lamps", link: "https://mods.vintagestory.at/hangingoillamps", notes: "---" },
            { name: "Healing Springs", link: "https://mods.vintagestory.at/healingsprings", notes: "---" },
            { name: "HealOthers", link: "https://mods.vintagestory.at/show/mod/25768", notes: "---" },
            { name: "Hobo's Flower Circlets", link: "https://mods.vintagestory.at/hobosflowercirclets", notes: "---" },
            { name: "Instruments", link: "https://mods.vintagestory.at/show/mod/463", notes: "---" },
            { name: "Instruments Covertpack", link: "https://mods.vintagestory.at/instrumentscovertpack", notes: "---" },
            { name: "Just Chairs", link: "https://mods.vintagestory.at/show/mod/14066", notes: "---" },
            { name: "Kevin's Furniture", link: "https://mods.vintagestory.at/kevinsfurniture", notes: "---" },
            { name: "Kobold Player Model Redux", link: "https://mods.vintagestory.at/koboldrdx", notes: "---" },
            { name: "Liquid Containers", link: "https://mods.vintagestory.at/liquidcontainers", notes: "---" },
            { name: "Make Tea Forked", link: "https://mods.vintagestory.at/maketeaforked", notes: "---" },
            { name: "Material Needs", link: "https://mods.vintagestory.at/materialneeds", notes: "---" },
            { name: "Mechanical Block Retention", link: "https://mods.vintagestory.at/mbr", notes: "---" },
            { name: "More Beams", link: "https://mods.vintagestory.at/morebeams", notes: "---" },
            { name: "Mud", link: "https://mods.vintagestory.at/show/mod/36070", notes: "---" },
            { name: "Mulching", link: "https://mods.vintagestory.at/show/mod/34989", notes: "---" },
            { name: "NDL ExpandedGrowth (Flower Growth Module)", link: "https://mods.vintagestory.at/ndlexpandedgrowthflowers", notes: "---" },
            { name: "NDL ExpandedGrowth (Mushroom Growth Module)", link: "https://mods.vintagestory.at/ndlexpandedgrowthmushrooms", notes: "---" },
            { name: "Notes", link: "https://mods.vintagestory.at/pomnotes", notes: "---" },
            { name: "Notice Board", link: "https://mods.vintagestory.at/noticeboard", notes: "---" },
            { name: "Pencil", link: "https://mods.vintagestory.at/show/mod/32159", notes: "---" },
            { name: "Pipeleaf", link: "https://mods.vintagestory.at/pipeleaf", notes: "---" },
            { name: "Place on slabs", link: "https://mods.vintagestory.at/show/mod/38090", notes: "---" },
            { name: "Player Model Lib", link: "https://mods.vintagestory.at/playermodellib", notes: "---" },
            { name: "PlayerCorpse", link: "https://mods.vintagestory.at/playercorpse", notes: "---" },
            { name: "PlayerList", link: "https://mods.vintagestory.at/playerlist", notes: "---" },
            { name: "Prospect Together", link: "https://mods.vintagestory.at/prospecttogether", notes: "---" },
            { name: "Purposeful Storage", link: "https://mods.vintagestory.at/purposefulstorage", notes: "---" },
            { name: "QP's Chisel Tools", link: "https://mods.vintagestory.at/chiseltools", notes: "---" },
            { name: "Racial Equality (Visual)", link: "https://mods.vintagestory.at/racialequality", notes: "---" },
            { name: "Real Smoke", link: "https://mods.vintagestory.at/realsmoke", notes: "Newt" },
            { name: "Regalia", link: "https://mods.vintagestory.at/regalia", notes: "---" },
            { name: "RP Voice Chat", link: "https://mods.vintagestory.at/rpvoicechat", notes: "---" },
            { name: "Saddle Blanket Beds", link: "https://mods.vintagestory.at/show/mod/20437", notes: "---" },
            { name: "Salty's Catch Livestock", link: "https://mods.vintagestory.at/catchlivestock", notes: "---" },
            { name: "Salty's Cave Painting", link: "https://mods.vintagestory.at/cavepainting", notes: "---" },
            { name: "Salty's Hand to Hand", link: "https://mods.vintagestory.at/handtohand", notes: "---" },
            { name: "Salty's Immersive: Lanterns", link: "https://mods.vintagestory.at/immersivelanterns", notes: "---" },
            { name: "Salty's Manual: Dishes", link: "https://mods.vintagestory.at/manualdishes", notes: "---" },
            { name: "Salty's Manual: Dough", link: "https://mods.vintagestory.at/manualdough", notes: "---" },
            { name: "Salty's Stone Harvesting", link: "https://mods.vintagestory.at/stoneharvesting", notes: "---" },
            { name: "Salty's TrashBin ed", link: "https://mods.vintagestory.at/trashbinned", notes: "---" },
            { name: "Scaffolding", link: "https://mods.vintagestory.at/scafolding", notes: "---" },
            { name: "Shelf Obsessed", link: "https://mods.vintagestory.at/shelfobsessed", notes: "---" },
            { name: "SimpleCloth", link: "https://mods.vintagestory.at/simplecloth", notes: "---" },
            { name: "Skeletons", link: "https://mods.vintagestory.at/skeletons", notes: "---" },
            { name: "SlowTox", link: "https://mods.vintagestory.at/slowtox", notes: "---" },
            { name: "Spinning Wheel", link: "https://mods.vintagestory.at/show/mod/34327", notes: "---" },
            { name: "Spyglass", link: "https://mods.vintagestory.at/spyglass", notes: "---" },
            { name: "Storage Urn", link: "https://mods.vintagestory.at/show/mod/29466", notes: "---" },
            { name: "Tabletop Games", link: "https://mods.vintagestory.at/tabletopgames", notes: "---" },
            { name: "Tailor's Delight", link: "https://mods.vintagestory.at/tailorsdelight", notes: "---" },
            { name: "Tankards, Goblets, and More!", link: "https://mods.vintagestory.at/tankardsandgoblets", notes: "---" },
            { name: "Temporal Transporters", link: "https://mods.vintagestory.at/temporaltransporters", notes: "---" },
            { name: "The Balladeer: A Musical Buff Class", link: "https://mods.vintagestory.at/vsballadeerclass", notes: "---" },
            { name: "Torch Holder Smithing Plus", link: "https://mods.vintagestory.at/show/mod/21921", notes: "---" },
            { name: "UnCobbled", link: "https://mods.vintagestory.at/uncobbled", notes: "---" },
            { name: "Unconscious (Revive)", link: "https://mods.vintagestory.at/unconscious", notes: "---" },
            { name: "Unleaded Windows", link: "https://mods.vintagestory.at/apewindows", notes: "---" },
            { name: "Upgradable Storage", link: "https://mods.vintagestory.at/upgradablestorage", notes: "---" },
            { name: "Vaklyjra Patches: Female Seraph Clothes", link: "https://mods.vintagestory.at/show/mod/35580", notes: "---" },
            { name: "Vaklyjra's Hairstyles", link: "https://mods.vintagestory.at/valkyrjahair", notes: "---" },
            { name: "Vanilla Variants", link: "https://mods.vintagestory.at/vanvar", notes: "---" },
            { name: "Vanity", link: "https://mods.vintagestory.at/vanity", notes: "---" },
            { name: "Vies Blocks", link: "https://mods.vintagestory.at/viesblocks", notes: "---" },
            { name: "Vinconomy - A Vintage Story Economy Mod", link: "https://mods.vintagestory.at/vinconomy", notes: "---" },
            { name: "Vintage Bonfires", link: "https://mods.vintagestory.at/vintagebonfires", notes: "---" },
            { name: "Visible Bags", link: "https://mods.vintagestory.at/show/mod/34456", notes: "---" },
            { name: "Wilderlands Waymarkers", link: "https://mods.vintagestory.at/show/mod/19736", notes: "---" },
            { name: "Wind Chimes", link: "https://mods.vintagestory.at/windchimes", notes: "---" },
            { name: "Window Storage", link: "https://mods.vintagestory.at/windowstorage", notes: "---" },
            { name: "Wrenchable Rooftiles", link: "https://mods.vintagestory.at/wrenchroof", notes: "---" },
            { name: "Ye Olde Keg Revived Again", link: "https://mods.vintagestory.at/yeoldekegsrevivedagain", notes: "---" }
        ];

        // Sort mods by name
        modsData.sort((a, b) => a.name.localeCompare(b.name));

        // Group mods by first letter
        function groupByLetter(mods) {
            const grouped = {};
            mods.forEach(mod => {
                const letter = mod.name.charAt(0).toUpperCase();
                if (!grouped[letter]) {
                    grouped[letter] = [];
                }
                grouped[letter].push(mod);
            });
            return grouped;
        }

        // Render the mods list
        function renderMods(modsToRender = modsData) {
            const modsList = document.getElementById('modsList');
            const noResults = document.getElementById('noResults');

            if (modsToRender.length === 0) {
                modsList.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }

            noResults.style.display = 'none';
            const grouped = groupByLetter(modsToRender);
            let html = '';

            Object.keys(grouped).sort().forEach(letter => {
                html += `<div class="alpha-section">
                    <div class="alpha-letter">${letter}</div>
                    <div class="mod-list">`;
                
                grouped[letter].forEach(mod => {
                    html += `<div class="mod-item" data-url="${mod.link}">
                        <a href="${mod.link}" target="_blank" class="mod-name">${mod.name}</a>
                        <div class="mod-preview">
                            <div class="mod-preview-loading">Loading preview...</div>
                        </div>
                    </div>`;
                });

                html += `</div></div>`;
            });

            modsList.innerHTML = html;
        }

        // Function to load preview for a mod
        function loadPreview(modItem) {
            const preview = modItem.querySelector('.mod-preview');
            const url = modItem.getAttribute('data-url');
            
            // Check if preview is already loaded
            if (preview.querySelector('.mod-preview-image')) {
                return;
            }
            
            // Use a free screenshot API (thum.io)
            const screenshotUrl = `https://image.thum.io/get?url=${encodeURIComponent(url)}&width=300&height=180`;
            
            const previewHtml = `
                <img src="${screenshotUrl}" alt="Preview" class="mod-preview-image" onerror="this.parentElement.innerHTML='<div class=\\'mod-preview-title\\'>${url.split('/').pop()}</div><div class=\\'mod-preview-loading\\'>Preview unavailable</div>'">
                <div class="mod-preview-title">${modItem.querySelector('.mod-name').textContent}</div>
            `;
            
            preview.innerHTML = previewHtml;
        }

        // Add hover listeners after rendering
        function setupPreviewListeners() {
            const modItems = document.querySelectorAll('.mod-item');
            modItems.forEach(item => {
                item.addEventListener('mouseenter', () => {
                    loadPreview(item);
                });
            });
        }

        // Filter mods based on search input
        function filterMods(searchTerm) {
            const filtered = modsData.filter(mod =>
                mod.name.toLowerCase().includes(searchTerm.toLowerCase())
            );
            renderMods(filtered);
            setupPreviewListeners();
        }

        // Set up search event listener
        document.getElementById('searchInput').addEventListener('input', (e) => {
            filterMods(e.target.value);
        });

        // Set up tab switching
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.getAttribute('data-tab');

                // Remove active class from all buttons and contents
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));

                // Add active class to clicked button and corresponding content
                button.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Populate server details from constants
        document.getElementById('ipDisplay').textContent = SERVER_IP;
        document.getElementById('passwordDisplay').textContent = SERVER_PASSWORD;
        document.getElementById('ipInstructions').textContent = SERVER_IP;
        document.getElementById('passwordInstructions').textContent = SERVER_PASSWORD;

        // Initial render
        renderMods();
        setupPreviewListeners();

        // Check server status
        function checkServerStatus() {
            const statusIndicator = document.getElementById('statusIndicator');
            const statusDot = statusIndicator.querySelector('.status-dot');
            const statusText = statusIndicator.querySelector('.status-text');
            
            // Use a simple image request to check server availability
            // This is more reliable for checking if a server is online
            const img = new Image();
            const timeout = setTimeout(() => {
                statusDot.classList.add('offline');
                statusDot.classList.remove('online');
                statusText.textContent = 'Offline';
            }, 5000);
            
            img.onload = function() {
                clearTimeout(timeout);
                statusDot.classList.add('online');
                statusDot.classList.remove('offline');
                statusText.textContent = 'Online';
            };
            
            img.onerror = function() {
                clearTimeout(timeout);
                statusDot.classList.add('offline');
                statusDot.classList.remove('online');
                statusText.textContent = 'Offline';
            };
            
            // Try to load a favicon from the server
            // Add a timestamp to bypass caching
            img.src = `http://${SERVER_IP.split(':')[0]}:${SERVER_IP.split(':')[1] || 80}/favicon.ico?t=${Date.now()}`;
        }
        
        // Check status on page load and every 30 seconds
        checkServerStatus();
        setInterval(checkServerStatus, 30000);
    </script>
</body>
</html>
